# アクセス解析

研究室のアクセス解析を実装しようとしている。

初め Google Analytics を導入していたのだけど、全然チェックしていないのとスクリプトが埋め込まれてるのが嫌なのとで自前で作ることにした。

後々のことを考えると Logstash からの ElasticSearch からの Kibana を試してみたくもあるのだけど (ほんの前に「ログ収集は fluentd を使えばいいのだな」と覚えた記憶があったのだけど時代は進んだようだ)、後のことは後で考えることにしてとりあえず自前実装することにした。

Perl で access_log 解析して統計情報を JSON で返すようにしておいて、クライアント側で D3.js で描画、って感じにした。

Apache から呼び出された Perl が直に access_log を読みにいってるんだけど、セキュリティ的によろしくなさそうな気もする。現に SELinux が気を利かせて access_log へのアクセスを遮断してくれて半日つぶしたし。まぁ「セキュリティの一番の対策は気にしないことだ」と誰か偉い人も言っていたし気にしないことにしよう (誰から聞いたんだっけ ?)。

自前実装と書いて思いついたけど、研究室をホストするソフトウェアは全て自前実装、としても面白いかもしれない。最近 HTTP2 サーバーを実装するの流行ってるみたいだし。

最近読んでる本

- アート・オブ・プロジェクトマネジメント
    - 人月の神話読み終わったのでその流れで読んでる。けど最近興味が別の方向に行ってしまってるので流し読み状態。しかしちょいちょい良さげな知見を得られてもいる。
- 体系的に学ぶ 安全な Web アプリケーションの作り方
    - 自作 RSS リーダーのセキュリティ対策のために読んでる。作ってみて分かったが RSS リーダーって役割的にすごい脆弱性入りやすい。内容は丁寧に解説してあってよいのだけど、「PHP 使わなきゃよいのでは」なケースが散見されるのも味わい深い。
- 入門 経済学 (伊藤元重)
    - コンピューター関連の本ばかり読むのもあれなので他分野のも読むことにした。といっても経済学への興味も学生時代の P2P 研究から発生してるのでまったく関係なくもない。やはり他分野なだけあって読むのに苦労するけど興味がもりもり沸いてきて楽しげ。
